{% extends 'network/layout.html' %}
{% load static %}

{% block scripts %}
    <script src='{% static "network/index.js" %}'></script>
{% endblock %}

{% block body %}

    <!-- Template for post component -->
    {% verbatim %}
    <script id='post-template' type='text/x-handlebars-template'>
        <div class='border rounded' style='margin:15px; padding: 15px; word-wrap: break-word'>
            <div class='media'>
                <img src='{{ avatar }}' width='50' height='50' class='rounded-circle'>
                <div class="media-body ml-3">
                    <h6><a href='' onclick='return false;' style='color: black;'>{{ first_name }} {{ last_name }}</a></h6>
                    <p class='small text-muted'>
                        {{ date }} | {{ time }}
                    </p>
                </div>
                </div>
            <p>{{ message }}</p>
            <span style="font-size:100%;color:red;">&hearts;</span> {{ likes }}
        </div>
    </script>
    {% endverbatim %}

    {% if message %}
        <div class='alert alert-dark' style='margin: 5px;' role='alert'>{{ message }}</div>
    {% endif %}

    {% if user.is_authenticated %}
        <div class='border rounded' style='margin:15px; padding: 15px;'>
            <form>
                {% csrf_token %}

                <h4>Create post</h4>
                <div class='form-group'>
                    <textarea id='post-input' placeholder='What is on your mind?' class='form-control'></textarea>
                </div>
                <input class='btn btn-primary' type='submit' value='Post' id='post-button'>
            </form>
        </div>
    {% endif %}
    <div id='posts'>
    </div>
{% endblock %}
